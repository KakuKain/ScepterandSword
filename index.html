<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>杖劍傳說 - 升級時間計算機</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

  <link rel="stylesheet" href="header.css">
  <link rel="stylesheet" href="style.css?v=1765440870">

</head>
<body>
  <!-- 導航 Header -->
  <nav class="page-nav">
    <div class="nav-content">
      <h2 class="nav-title">杖劍傳說</h2>
      <div class="nav-links">
        <a href="index.html" class="nav-link active">升級計算機</a>
        <a href="season.html" class="nav-link">賽季計算機</a>
      </div>
    </div>
  </nav>

  <div class="container upgrade">
    <h1 class="text-center mb-4 page-title">升級時間計算機</h1>
    <div class="row g-3">
      <div class="col-12 col-md-6"> <label class="form-label">目前等級</label> <input id="level" type="number"
               class="form-control"> </div>
      <div class="col-12 col-md-6"> <label class="form-label">總經驗</label> <input id="totalExp" type="number"
               class="form-control"> </div>
      <div class="col-12 col-md-6"> <label class="form-label">目前經驗</label> <input id="currentExp" type="number"
               class="form-control"> </div>
      <div class="col-12 col-md-6"> <label class="form-label">經驗／時</label> <input id="expPerHour" type="number"
               class="form-control"> </div>
      <div class="col-12"> <label class="form-label">登記當前經驗時間（日期＋時間）</label>
        <div class="d-flex date-row" style="gap: 8px;"> <input id="recordTime" type="datetime-local"
                 class="form-control" style="max-width:70%;"> <button id="updateTimeBtn"
                  class="btn btn-custom flex-grow-1">更新時間</button> </div>
      </div>
    </div>
    <div class="form-check mt-3"> <input class="form-check-input" type="checkbox" id="freeBoost"> <label
             class="form-check-label" for="freeBoost">今日免費加速（+2小時）</label> </div>
    <div class="form-check mt-2 d-flex flex-wrap" style="gap: 8px; align-items: baseline;"> <input
             class="form-check-input" type="checkbox" id="crystalBoostCheck"> <label class="form-check-label"
             for="crystalBoostCheck">模擬使用時間結晶</label> <input type="number" id="crystalCount"
             class="form-control mt-1 mb-3" min="0" value="0" placeholder="使用結晶數量（每顆+2小時）" style="max-width:30%"> </div>
    <div class="d-flex flex-wrap gap-2 mb-3"> <button id="clearBtn" class="btn btn-clear flex-grow-1">清除所有資料</button>
    </div>
    <div class="result" id="result"></div>
    <div class="countdown" id="countdown"></div>
  </div>

  <!-- 單一浮動按鈕 -->
  <div class="floating-btn" id="btn-witch">
    <img src="./img/Witch.jpg">
  </div>

  <!-- 魔女 modal -->
  <div class="modal-box" id="witchModal">
    <h4 class="modal-title">魔女解惑</h4>

    <div class="chat-area" id="chatArea"></div>

    <div class="input-row">
    <!-- 這裡是選到骰子後要插入數字 input 的位置 -->
    <div id="diceInputWrap" class="w-100"></div>
      <select id="actionSelect" class="form-select">
        <option value="御神籤">御神籤</option>
        <option value="擲筊">擲筊</option>
        <option value="籤筊">籤筊</option>
        <option value="籤詩">籤詩</option>
        <option value="骰子">骰子</option>
      </select>
      <textarea id="userInput" class="form-control" placeholder="輸入你的問題..."></textarea>
      <button id="sendBtn">送出</button>
    </div>

    <button class="close-modal" id="closeModal">關閉</button>
  </div>

  <script src="script.js"></script>

</body>
</html>